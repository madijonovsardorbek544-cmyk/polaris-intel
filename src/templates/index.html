<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>POLARIS Intel</title>
  <style>
    body{background:#0b1220;color:#e8eefc;font-family:Arial;margin:0;padding:40px}
    .card{background:#1a2238;padding:20px;margin-bottom:15px;border-radius:10px}
    h2{margin:0 0 10px}
  </style>
</head>
<body>

<h1>POLARIS Intel</h1>
<p>Status: <span id="status">loading...</span></p>

<div id="cards"></div>

<script>
async function loadData(){
  const status = document.getElementById("status");
  const container = document.getElementById("cards");

  try{
    const res = await fetch("/api/latest");
    const data = await res.json();

    container.innerHTML = "";
    
    data.forEach(item => {
      const div = document.createElement("div");
      div.className = "card";
      div.innerHTML = 
        <h2>${item.title}</h2>
        <p>Risk: ${item.risk_level}</p>
        <p>Score: ${item.risk_score}</p>
        <p>${item.summary}</p>
      ;
      container.appendChild(div);
    });

    status.textContent = "OK";
  }
  catch(e){
    status.textContent = "ERROR";
  }
}

loadData();
</script>

</body>
</html>
